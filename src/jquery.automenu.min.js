(function(b){b.fn.autoMenu=function(c){var c=b.extend({startDepth:2,endDepth:4,scanLocation:"#content",ignoreLocation:"#page-outline",offset:40},c),a=b("<div/>"),d=0;b(c.scanLocation).find("h1,h2,h3,h4,h5,h6").each(function(){var a=c.startDepth,e=parseInt(this.tagName.substring(1)),f=c.endDepth;d=a-1;a<=e&&e<=f&&0==b(this).closest(c.ignoreLocation).length&&(a=b(this).text().toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"),b(this).attr("id",a),b(this).addClass("heading"))});b(".heading").each(function(){var c=
b("<li/>").html(b("<a/>",{href:"#"+b(this).attr("id"),text:b(this).text()})),e=parseInt(this.tagName.substring(1));if(e>d){for(;e>d;)a.append(b("<ul/>")),a=a.children("ul"),d++;a.append(c)}else if(e<d){for(;e<d;)a=a.parents("ul:first"),d--;a.after(c)}else a.parent().append(c);a=c;d=e});a=a.parents("ul:last");b(this).append(a);b(".heading").removeClass()}})(jQuery);